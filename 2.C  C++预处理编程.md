# C/C++预处理编程

C/C++的#include，#define，#if等这些就是预处理编程的内容，预处理命令都以#开头。

**预处理阶段编程的操作目标是“源码”，用各种指令控制预处理器，生成或者改造源代码。**

预处理编程不用太遵守C++代码的风格。一般来说，预处理指令不管在哪里都是顶格写。

## 一、包含文件(#include)

最常用的**预处理命令“#include”，其作用是“包含文件”**，不仅仅是头文件，而是**可以包含任意的文件。**

也就是说，只要愿意，可以使用#include将源码，普通文本，甚至是图片，视频，音频等都引进来。

“#include”实际上只是将数据合并进源文件。



## 二、宏定义(#define, #undefine)

**宏定义是用来定义源码级别的“文本替换”。**

宏是没有作用域概念的，永远是全局生效。

对于**临时起作用的宏，比较好的办法是宏定义前先检查，有定义则先undef，之后再重新定义。**

可以适当使用宏来定义代码中的常量。

在宏定义里还有诸如字符串替换之类的，这个在C语言的笔记里有。



## 三、条件编译(#if,#else,#endif等)

在预处理阶段判断宏的数值来产生不同的源码，改变源文件的形态，这就是“条件编译”。

条件编译通常使用来实现代码的可移植性，针对系统生成最合适的代码。

**为了实现代码的可移植性，最好将平台相关的代码集中在一起，再用#include一次包含。**

