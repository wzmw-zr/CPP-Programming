# 子类与父类的构造顺序和菱形继承问题

## 一、子类与父类的构造顺序

由于子类包含父类中的所有属性与方法，那么**==子类在构造的时，会先构造父类，之后再继续构造子类==，我们可以显式在子类的构造函数的初始化列表里写出来，也可以直接使用默认的父类构造函数。**



## 二、菱形继承

**在C++中是允许多重继承的，即一个类同时继承多个不同的类**，但是如果出现下面这种菱形继承：

![](./inherit.png)

就会出现问题：**如果我们在D类中调用run方法，我们不知道该调用A，B，C谁的run方法，==菱形继承会导致代码不可控，执行结果不可预期。==**

**为了避免菱形继承：==我们必须保证至多允许继承一个实体类，可以继承多个接口类(接口类是和抽象类精密联系的)==。**



## 三、继承下的拷贝构造函数与赋值运算符

### 1.拷贝构造函数

![](./subclass_copy.png)

子类调用拷贝构造函数，在初始化列表中调用了父类的拷贝构造函数，**实际上这里是有着一个隐式类型转换的过程的，将子类的类型隐式转换成父类的类型。**



### 2.赋值运算符

就如上图，在子类中使用`this->FatherClass::operator=(a);`这种格式的就是**使用父类命名空间中的赋值运算符，其中自然也是存在隐式类型转换。**



